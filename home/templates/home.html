{% extends 'base.html' %} {% load pipeline %} {% load timesince_upto %}

{% block title %} front page {% endblock %}

{% block head %}
  {% stylesheet 'home' %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
{% endblock head %}

{% block content %}
  <div id="vue-frontpage" data-user="{{request.user.username}}">
  {% include 'tabbed-emoji.html' %}
  {% include 'trending_channels.html' %}
    <transition-group
    name="staggered-fade"
    tag="div"
    v-bind:class="'infini'"
    v-bind:css="false"
    v-on:before-enter="beforeEnter"
    v-on:enter="enter"
    v-on:leave="leave"
    >
      <div 
        v-if="loaded" 
        v-for="(post, index) in posts" 
        v-bind:key="post.title"
        v-bind:data-index="index"
        class="post">
        {% include "question_vue.html" %}
      </div>
    </transition-group>
      <div v-if="!loaded">Loading</div>
  </div>
{% endblock content %}

{% block js %}
  {% javascript 'home' %}
{% endblock js %}
