{% extends "user_templates/base.html" %}
{% block body %}
{% load bleach_tags %}
{% load el_pagination_tags %}
<style type="text/css">
    a {
        color: black;
    }
    .mdl-cell--10-col {
        background-color: #EEEEEE;
        height: auto;
    }

    .platform {
        padding: 0px;
        height: 100px;
    }

    .title {
        margin-left: 0px;
        margin-top: auto;
        margin-bottom: auto;
        margin-right: 0px;
        font-size: 18px;
        color: #424242;
    }

    .meta {
        margin: 0px;
        width: 90%;
    }

    .a_title {
        color: #424242;
        font-family: 'Montserrat', sans-serif;
        font-size: 18px;
        font-weight: 100;
    }

    .votes {
        width: 43px;
        margin: 0px;
        margin-left: 9px;
    }

    .score {
        width: 100%;
    }

    .voting {
        padding: 0px;
        margin: 0px;
        width: 50px;
    }

    .solved {
        color: #009688;
        font-size: 18px;
        position: absolute;
        padding-left: 5px;

    }

    .votecolor {
        color: #424242;
    }

    .searchparent {
        padding: 5px;
        margin: 0px;
        height: 75px;
        background-color: #F5F5F5;
    }

    .search {
        margin: 0px;
        height: 100%;
        width: 100%;
        background-color: #FFFFFF;
    }

    .searchform {
        height: 100%;
    }

    .searchbottommargin {
        padding: 22px 0;
    }

    .searchbottommargin2 {
        border-bottom: none;
    }

    .postsearchparent {
        height: 40px;
        padding-bottom: 0px;
    }

    .postsearch {
        height: 100%;
        margin: 0px;
        margin-right: 0px;
        margin-top: 5px;
        margin-left: auto;
    }

    .statistics {
        color: #009688;
        font-size: 14px;
        width: 265px;
        margin-right: 7px;
        margin-left: 7px;
        float: right;
    }

    .ask {
        width: 184px;
        margin-right: auto;
        margin-top: 5px;
        margin-left: 0px;
    }

    .askbutton {
        width: 100%;
        font-size: 14px;
        height: 100%;
        font-family: 'Montserrat', sans-serif;
        color: #009688;
    }

    .date {
        font-family: 'Open Sans', sans-serif;
        font-size: 11px;
        color: #D81B60;
    }

    .author {
        float: right;
        color: #D81B60;
    }

    .authorlink {
        color: #D81B60;
    }

    .answers {
        float: right;
        color: #009688;
    }

    .tags {
        font-family: 'Open Sans', sans-serif;
        font-size: 11px;
        color: #673AB7;
    }

    .mdl-layout__header {
        box-shadow: none;
    }
    .mdl-layout__header-row a{
        color: white !important;
    }

    .endless_page_link {
        color: #424242;
    }

    .pagination {
        height: 80px;
        background: #FFFFFF !important;
    }

    .mdl-mini-footer--link-list, .mdl-mini-footer__link-list a{
        color: #9e9e9e;
    }

    #about {
        border-top: 4px rgba(163, 163, 163,0.5) dashed;
        border-bottom: 4px rgba(163, 163, 163,0.5) dashed;
    }
    .mdl-tabs__tab-bar {
        border-bottom: none;
    }
    .viewans {
        color: #03A9F4 !important;
    }

    @media (max-width: 479px) {
        .ask {
            position: relative;
            margin: 0px;
            width: 100%;
            height: 56px;
            padding-top: 17px;
        }
        .statistics {
            color: #009688;
            width: 100%;
            margin-right: auto;
            margin-left: auto;
            font-size: 12px;
            text-align: center;
        }
        .postsearchparent {
            height: 95px;
            padding-bottom: 0px;
            padding-right: 0px;
            padding-left: 0px;
        }
        .postsearch {
            height: 37.5px;
            margin-left: auto;
            margin-right: auto;
        }
        .askbutton {
            width: 100%;
            font-size: 12px;
            height: 100%;
            font-family: 'Montserrat', sans-serif;
            font-size: 23px;
            color: #009688;
        }
        .a_title {
            font-size: 12px;
        }
        .mdl-textfield__input {
            font-size: 15px;
            padding: 17px 0;
        }
    }
    .username {
        color: #3F51B5;
        font-family: "Open Sans", sans-serif;
    }
    .jscroll-inner {
        width: 100% !important;
    }
    .pagination .mdl-button {
        font-family: 'Montserrat', sans-serif;
        color: #FFFFFF;
        background-color: #64B5F6;
    }
    .mdl-menu__item a{
        color: #424242 !important;
    }
</style>
<center>

<div class="mdl-grid">
    <div class="mdl-cell mdl-cell--12-col" id="about">
            <h3 class="username">@{{user_instance.username}}</h3>
            <p>{{ user_instance.student.bio }}</p>
            <p><i class="material-icons">room   </i> {{ user_instance.student.location }}</p>
            <p>Class of {{user_instance.student.grad_year}}.</p>
            <p><span class="mdl-chip"><span class="mdl-chip__text course">{{ user_instance.student.course }}</span></span> <span class="mdl-chip"><span class="mdl-chip__text school">{{ user_instance.student.school }}</span></span></p>
    </div>
</center>
    <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
      <a href="#all-panel" class="mdl-tabs__tab is-active">All</a>
      <a href="#questions-panel" class="mdl-tabs__tab">Questions</a>
      <a href="#answers-panel" class="mdl-tabs__tab">Answers</a>
  </div>
   <div class="mdl-tabs__panel is-active" id="all-panel">
            {% if allqa %}
            {% paginate allqa using "all" %}
            {% for a in allqa %}
            {% include "user_templates/ques_ans.html" with instance=a divclass="all_content" %}
            {% endfor %}
            {% get_pages %}
            <div class="mdl-cell mdl-cell--12-col pagination all_content" id="pagination">
            <center><br> {{ pages.next }}</center>
            </div>
            {% else %}
            <p>Nothing here. :/</p>
            {% endif %}
    </div>
    <div class="mdl-tabs__panel" id="questions-panel">
            {% if questions %}
            {% paginate questions using "ques" %}
            {% for x in questions %}
            {% include "user_templates/ques_ans.html" with instance=x divclass="questions_content" %}
            {% endfor %}
            <center>
            {% get_pages %}
            <div class="mdl-cell mdl-cell--12-col pagination questions_content" id="pagination">
            <br> {{ pages.next }}
            </div>
            </center>
            {% else %}
            <p>No questions yet.</p>
            {% endif %}
    </div>
    <div class="mdl-tabs__panel" id="answers-panel">
            {% if answers %}
             {% paginate answers using "ans" %}
            {% for a in answers %}
            {% include "user_templates/ques_ans.html" with instance=a divclass="answers_content" %}
            {% endfor %}
            <center>
            {% get_pages %}
            <div class="mdl-cell mdl-cell--12-col pagination answers_content" id="pagination">
            <br> {{ pages.next }}
            </div>
            </center>
            {% else %}
            <p>No answers yet.</p>
            {% endif %}
    </div>
</div>
{% endblock %}
{% block script %}
     <script type="text/javascript">
    var all_page = 0;
    $('#all-panel').jscroll({
    loadingHtml: '<center><div class="mdl-spinner mdl-js-spinner is-active loader"></div></center><script>componentHandler.upgradeElement($(".loader")[0])<\/script>',
    autoTrigger: false,
    nextSelector: '.endless_page_link',
    contentSelector: '.all_content',
    callback: function(){
        $("#all-panel .pagination")[all_page].hidden=true;
        all_page+=1;
    }
});
    var questions_page = 0;
    $('#questions-panel').jscroll({
    loadingHtml: '<center><div class="mdl-spinner mdl-js-spinner is-active loader"></div></center><script>componentHandler.upgradeElement($(".loader")[0])<\/script>',
    autoTrigger: false,
    nextSelector: '.endless_page_link',
    contentSelector: '.questions_content',
    callback: function(){
        $("#questions-panel .pagination")[questions_page].hidden=true;
        questions_page+=1;
    }
});
    var answers_page = 0;
    $('#answers-panel').jscroll({
    loadingHtml: '<center><div class="mdl-spinner mdl-js-spinner is-active loader"></div></center><script>componentHandler.upgradeElement($(".loader")[0])<\/script>',
    autoTrigger: false,
    nextSelector: '.endless_page_link',
    contentSelector: '.answers_content',
    callback: function(){
        $("#answers-panel .pagination")[answers_page].hidden=true;
        answers_page+=1;
    }
});
    </script>
{% endblock script %}
